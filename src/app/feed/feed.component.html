<body>

<nav>  
    <a class="buttonsair text-white" (click)="sair()"> Sair <i class="fa-solid fa-right-to-bracket text-white"></i></a>
</nav>



<div class="container navbar-paddin">
    <div class="row">
      <div class="col-md-3">
        <div class="div card d-flex align-content-center mt-5 p-3 shadow bg-transparent">
          <div class="row d-flex justify-content-center mb-3">
            <img src="{{foto}}" alt="" class="img-fluid rounded-circle borda shadow" width="60%"
              onerror="this.src = '../../assets/img/user2.jpg'">
          </div>
          <div class="row d-flex justify-content-center">
            <p class="text-center font-weight-bold color-titulo fs-25 font-theme">{{nome}}</p>
          </div>
          <div class="row d-flex justify-content-center mt-3">
            <button class="w-100 text-left btn btn-blue text-white mx-3 my-1 pl-4 colorbotton" [routerLink]="['/meu-perfil', id]">
              <i class="fa fa-user-circle-o mr-2 " aria-hidden="true"></i>Meu perfil
            </button>
            <button class="w-100 text-left btn btn-blue text-white mx-3 my-1 pl-4 colorbotton" data-toggle="modal"
              data-target="#novaPostagem">
              <i class="fa fa-plus-square-o mr-2" aria-hidden="true"></i> Nova postagem
            </button>
            <button   class="w-100 text-left btn btn-blue text-white mx-3 my-1 pl-4 colorbotton" 
              data-target="#edit-postagem" ><i class="fa-solid fa-pen-to-square " aria-hidden="true"></i>  <a routerLink='/postagem-edit' class="text-white ml-1"   (click)="findByIdUser()" > Minhas Postagens </a>
              
            </button>
            <button class="w-100 text-left btn btn-blue text-white mx-3 my-1 pl-4 colorbotton" [routerLink]="['/user-edit', id]">
              <i class="fa fa-pencil-square-o mr-2" aria-hidden="true"></i>Editar perfil
            </button>
            
          </div>
        </div>
  
  
        <!-- Modal Postagem -->
        <div class="modal fade" id="novaPostagem" tabindex="-1" role="dialog" aria-labelledby="TituloModalCentralizado"
          aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content" >
              <div class="modal-header">
                <h5 class="modal-title" id="TituloModalCentralizado">Nova Postagem</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Fechar">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="form-group">
                  <label for="titulo">Título</label>
                  <input [(ngModel)]='postagem.titulo'  type="text" class="form-control" id="titulo"
                    placeholder="Digite o título">
                </div>
                <div class="form-group">
                  <label for="foto">Link da foto</label>
                  <input   [(ngModel)]='postagem.foto'  type="text" class="form-control" id="foto"
                    placeholder="Coloque o link da foto">
                </div>
                <div class="form-group texto-div">
                  <label for="texto">Texto</label>
                  <textarea [(ngModel)]='postagem.texto' class="form-control" name="texto" id="texto" rows="3"
                    placeholder="Escreva aqui o seu texto"></textarea>
                  <span id="wordcounter">/255</span>
                </div>
  
               
              </div>
  
              <div class="modal-footer">
                <button type="button" class="btn btn-info font-weight-bolder mr-4" 
                  data-dismiss="modal" (click)="publicar()">Publicar</button>
                <button type="button" class="btn btn-dark font-weight-bolder" data-dismiss="modal">Cancelar</button>
              </div>
            </div>
          </div>
        </div>



<!-- MODAL MINHAS POSTAGENS


<div class="modal fade" id="minhaPostagem" tabindex="-1" role="dialog" aria-labelledby="TituloModalCentralizado"
aria-hidden="true">
<div class="modal-dialog modal-dialog-centered" role="document">
  <div class="modal-content" >
    <div class="modal-header">
      <h5 class="modal-title" id="TituloModalCentralizado">Minhas postagens</h5>
      <button type="button" class="close" data-dismiss="modal" aria-label="Fechar">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="col-md-6">
        <div class="card mt-5 pt-2 pb-2 mb-4 shadow bg-transparent" id="card-postagem"
        *ngFor='let item of usuario.postagem'>
          <div class="row d-flex align-items-center">
            <div class="col mt-3">
              <div class="d-flex justify-content-start">
                <img [src]=item.usuario.foto class="rounded-circle ml-4" width="40px" height="40px"
                  onerror="this.src = '../../assets/img/user2.jpg'">
                <p class="mt-2 ml-2">{{item.usuario.nome}} </p>
              </div>
            </div>
  
            <div class="d-flex justify-content-end mt-3 mr-5">
              <p class="text-right"><i class="fa fa-calendar" aria-hidden="true"></i>
                {{item.date | date: 'dd/MM/yyyy'}}</p>
            </div>
          </div>
          
          <hr class="mr-0 ml-0">
          <p class="card-title fs-25 ml-4 mb-3 bg-transparent">{{item.titulo}}</p>
          <div class="d-flex justify-content-center">
            <img [src]=item.foto width="100%" class="img-fluid" onerror="this.src = '../../assets/img/semfoto.jpg'">
          </div>
  
          <div>
            <p class="card-text mt-3 ml-4 pb-4">{{item.texto}}</p>
          </div>
          
  
          <div *ngFor='let comentario of item.comentarios'>
            <div class="container-fluid">
              <div class="row mx-3 mb-1 color-comentario">
                <div class="col-md-2 d-flex align-items-center d-flex justify-content-center">
                  <img  alt="" class="rounded-circle" width="30px" height="30px"
                    onerror="this.src = '../../assets/img/user2.jpg'">
                </div>
                <div class="col-md-10">
                  <div class="row col-md-12 pd-comentario">
                    <p class="font-weight-bold text-left w-100">{{comentario.nome}}</p>
                  </div>
                  <div class="row col-md-12">
                    <p class="font-weight-light font-italic text-left w-100"></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
  
          <div class="container-fluid">
            <div class="row">
              <div class="col-md-2 d-flex justify-content-center">
                <img src="{{foto}}" alt="" width="40px" height="40px" class="img-fluid rounded-circle"
                  onerror="this.src = '../../assets/img/user2.jpg'">
              </div>
              <div class="col-md-8">
                <div class="row">
                  <input type="text" name="comentario" id="comentario" class="form-control">
                  
                </div>
              </div>
              <div class="col-md-2">
                <button class="btn btn-info" ><i
                    class="fa fa-paper-plane-o" aria-hidden="true"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
     
    </div>

    <div class="modal-footer">
    
      <button type="button" class="btn btn-dark font-weight-bolder" data-dismiss="modal">Sair</button>
    </div>
  </div>
</div>
</div>



-->








































  
  
        <!-- Modal Tema -->
        <div class="modal fade" id="novoTema" tabindex="-1" role="dialog" aria-labelledby="TituloModalCentralizado"
          aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content" >
              <div class="modal-header">
                <h5 class="modal-title font-theme" id="TituloModalCentralizado">Novo Tema</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Fechar">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="form-group">
                  <input  type="text" class="form-control" id="titulo"
                    placeholder="Digite o tema">
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-info font-weight-bolder mr-4" data-dismiss="modal"
                 >Cadastrar</button>
                <button type="button" class="btn btn-dark font-weight-bolder" data-dismiss="modal">Cancelar</button>
              </div>
              <div class="container">
                <div class="row mt-5">
                  <div class="col-md-12">
                    <h2 class="text-center">Todos os temas</h2>
                  </div>
                </div>
                <div class="mt-3 mb-5 d-flex justify-content-center">
                  <div class="col-md-12">
                    <table class="table table-hover">
                      <thead>
                        <tr class="text-dark">
                          <th scope="col">#</th>
                          <th scope="col">Descrição</th>
                          <th scope="col" class="text-right">Modificações</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr  class="text-dark">
                          <th></th>
                          <td></td>
                          <td class="d-flex justify-content-end">
  
                            <button class="btn btn-info" data-dismiss="modal" data-toggle="modal" data-target="#editTema"
                              ><i class="fa fa-pencil-square-o"
                                aria-hidden="true"></i></button>
  
  
                            <button class=" btn btn-dark ml-3" data-dismiss="modal" data-toggle="modal"
                              data-target="#deleteTema"><i class="fa fa-trash-o"
                                aria-hidden="true"></i></button>
  
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
  
  
        <!-- Modal apagar tema -->
        <div class="modal fade" id="deleteTema" tabindex="-1" role="dialog" aria-labelledby="TituloModalCentralizado"
          aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content" >
              <div class="modal-header">
                <h5 class="modal-title font-theme" id="TituloModalCentralizado">Apagar Tema</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Fechar">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="container">
                  <div class="row mb-5">
                    <div class="col-md-12">
                    </div>
                  </div>
  
                  <div class="row mb-3">
                    <div class="col-md-12">
                      <h4 class="text-center text-secondary">Você tem certeza que deseja apagar esse tema ?
                        Todas as postagens referentes a ele também serão apagadas.
                      </h4>
                    </div>
                  </div>
  
                  <div class="row mb-4">
                    <div class="col-md-12">
                      <h5 class="text-center text-info text-primary">Tema: </h5>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-12 d-flex justify-content-center">
                      <button class="btn btn-success mr-4" data-dismiss="modal" >Sim</button>
                      <button class="btn btn-danger" data-dismiss="modal" data-toggle="modal" data-target="#novoTema"
                       >Não</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
  
  
        <!-- Modal editar tema -->
        <div class="modal fade" id="editTema" tabindex="-1" role="dialog" aria-labelledby="TituloModalCentralizado"
          aria-hidden="true">
          <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content" >
              <div class="modal-header">
                <h5 class="modal-title font-theme" id="TituloModalCentralizado">Atualizar Tema</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Fechar">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="container">
                  <div class="row">
                    <div class="col-md-12">
                    </div>
                  </div>
                  <div class="row d-flex justify-content-center">
                    <div class="col-md-6">
                      <div class="form-group">
                        <label for="descricao">Descrição</label>
                        <input type="text" class="form-control" id="descricao">
                      </div>
                      <div class="d-flex justify-content-center">
                        <button class="btn btn-info mr-4" data-dismiss="modal" >Atualizar</button>
                        <button class=" btn btn-dark" data-dismiss="modal" data-toggle="modal" data-target="#novoTema"
                         >Cancelar</button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
  
  
      <!-- Feed -->
      <div class="col-md-6">
        <div class="card mt-5 pt-2 pb-2 mb-4 shadow bg-transparent" id="card-postagem"
        *ngFor='let item of listaPostagem   | orderBy: key : reverse'> 
          <div class="row d-flex align-items-center">
            <div class="col mt-3">
              <div class="d-flex justify-content-start">
                <img [src]=item.usuario.foto class="rounded-circle ml-4" width="40px" height="40px"
                  onerror="this.src = '../../assets/img/user2.jpg'">
                <p class="mt-2 ml-2">{{item.usuario.nome}} </p>
              </div>
            </div>
  
            <div class="d-flex justify-content-end mt-3 mr-5">
              <p class="text-right"><i class="fa fa-calendar" aria-hidden="true"></i>
                {{item.date | date: 'dd/MM/yyyy'}}</p>
            </div>
          </div>
          
          <hr class="mr-0 ml-0">
          <p class="card-title fs-25 ml-4 mb-3 bg-transparent">{{item.titulo}}</p>
          <div class="d-flex justify-content-center">
            <img [src]=item.foto  width="100%" class="img-fluid" onerror="this.src = '../../assets/img/semfoto.jpg'">
          </div>
  
          <div>
            <p class="card-text mt-3 ml-4 pb-4">{{item.texto}}</p>
          </div>
          
  
          <div *ngFor='let comentario of item.comentarios'>
            <div class="container-fluid">
              <div class="row mx-3 mb-1 color-comentario">
                <div class="col-md-2 d-flex align-items-center d-flex justify-content-center">
                  <img src={{comentario.foto}} class="rounded-circle" width="30px" height="30px"
                  onerror="this.src = '../../assets/img/user2.jpg'">
                </div>
                <div class="col-md-10">
                  <div class="row col-md-12 pd-comentario">
                    <p class="font-weight-bold text-left w-100">{{comentario.nome}}</p>
                  </div>
                  <div class="row col-md-12">
                    <p class="font-weight-light font-italic text-left w-100">{{comentario.texto}}</p>
                  </div>
                  <div class="row col-md-12">
                    <p class="font-weight-light font-italic text-left w-100"></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
  
          <div class="container-fluid">
            <div class="row">
              <div class="col-md-2 d-flex justify-content-center">
                <img src="{{foto}}" alt="" width="40px" height="40px" class="img-fluid rounded-circle"
                  onerror="this.src = '../../assets/img/user2.jpg'">
              </div>
              <div class="col-md-8">
                <div class="row">
                  <input  type="text" name="comentario" id="comentario" class="form-control"  [(ngModel)]="item.localcomentario">
                  
                </div>
              </div>
              <div class="col-md-2">
                <button class="btn btn-info" (click)="enviarComentario(item.id, item.localcomentario)" ><i
                    class="fa fa-paper-plane-o" aria-hidden="true"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      
    </div>
  </div>

</body>
 
<app-footer></app-footer>